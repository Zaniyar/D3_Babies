<!DOCTYPE html>
<html>
<head>
	<title>Tut 3 - Lets do some Shapes</title>


	<script src="http://d3js.org/d3.v3.min.js"></script>
</head>
<body>


	<script>

		generateRectSize = function(dataItem, type) {
			if(type == "width") {
				return dataItem;
			} else if (type == "height") {
				return 50;
			}
			return null;
		} ;

		var dataArray = [5, 40, 26, 60, 36, 10, 600];

		var width = 500;
		var height = 3000;

		var widthScale = d3.scale.linear()
								.domain([0, 60])
								.range([0, width]);

		var colorScale = d3.scale.linear()
								.domain([0, 60])
								.range(["red", "green"]);								


		var axis = d3.svg.axis()
							.ticks(5)
							.scale(widthScale);

		var canvas = d3.select("body")
							.append("svg")
							.attr("width", width)
							.attr("height", height)
							.append("g")
							.attr("transform", "translate(20, 0)");


		var bars = canvas.selectAll("rect")
						.data(dataArray)
						.enter()
							.append("rect")
							//.attr("width", generateRectSize(this, "width"))
							//.attr("height", generateRectSize(this, "height"))
							.attr("width", function(d) { return widthScale(d); })	
							.attr("height", 50)
							.attr("fill", function(d) { return colorScale(d); })
							.attr("y", function(d, i) { return i * 50; });		

		canvas.append("g")
			.attr("transform", "translate(0, 360)")	
			.call(axis);
	</script>
</body>
</html>